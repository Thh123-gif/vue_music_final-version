(function(t){function e(e){for(var s,n,o=e[0],l=e[1],c=e[2],u=0,p=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&p.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);f&&f(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,n=1;n<a.length;n++){var o=a[n];0!==i[o]&&(s=!1)}s&&(r.splice(e--,1),t=l(l.s=a[0]))}return t}var s={},n={app:0},i={app:0},r=[];function o(t){return l.p+"static/js/"+({}[t]||t)+"."+{"chunk-00d5ab89":"a1a09290","chunk-3a2fe130":"aebac963","chunk-3ae65984":"2035ebae","chunk-0a79bb91":"73d76206","chunk-4af9d06e":"1946d0b4"}[t]+".js"}function l(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={"chunk-00d5ab89":1,"chunk-3a2fe130":1,"chunk-3ae65984":1,"chunk-0a79bb91":1,"chunk-4af9d06e":1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var s="static/css/"+({}[t]||t)+"."+{"chunk-00d5ab89":"39cbc585","chunk-3a2fe130":"8ae89ae9","chunk-3ae65984":"1cdba3f4","chunk-0a79bb91":"cf5441e0","chunk-4af9d06e":"e26f6a50"}[t]+".css",i=l.p+s,r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var c=r[o],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===s||u===i))return e()}var p=document.getElementsByTagName("style");for(o=0;o<p.length;o++){c=p[o],u=c.getAttribute("data-href");if(u===s||u===i)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var s=e&&e.target&&e.target.src||i,r=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=s,delete n[t],f.parentNode.removeChild(f),a(r)},f.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){n[t]=0})));var s=i[t];if(0!==s)if(s)e.push(s[2]);else{var r=new Promise((function(e,a){s=i[t]=[e,a]}));e.push(s[2]=r);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=o(t);var p=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(f);var a=i[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;p.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",p.name="ChunkLoadError",p.type=s,p.request=n,a[1](p)}i[t]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=s,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(a,s,function(e){return t[e]}.bind(null,s));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var p=0;p<c.length;p++)e(c[p]);var f=u;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"188b":function(t,e,a){},"26f2":function(t,e,a){"use strict";a("66e5")},3524:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("a026"),n=(a("d3b7"),a("bc3a")),i=a.n(n),r={baseURL:"http://192.168.90.2:3000/"},o=i.a.create(r);o.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),o.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t){t.axios=o,window.axios=o,Object.defineProperties(t.prototype,{axios:{get:function(){return o}},$axios:{get:function(){return o}},http:{get:function(){return o}}})},s["a"].use(Plugin);Plugin;var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Topnav",{directives:[{name:"show",rawName:"v-show",value:t.$route.meta.showNav,expression:"$route.meta.showNav"}]}),a("PlayContral",{directives:[{name:"show",rawName:"v-show",value:t.$root.playingMusic.isContral,expression:"$root.playingMusic.isContral"}],attrs:{musicID:t.$root.playingMusic.musicID}}),a("router-view")],1)},c=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"topnav-box"},[a("li",[a("router-link",{attrs:{to:"/"}},[t._v("推荐音乐")])],1),a("li",[a("router-link",{attrs:{to:"/hot"}},[t._v("热歌榜")])],1),a("li",[a("router-link",{attrs:{to:"/search"}},[t._v("搜索")])],1)])},p=[],f={name:"Topnav"},h=f,d=(a("9ad6"),a("2877")),y=Object(d["a"])(h,u,p,!1,null,null,null),m=y.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"max"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"audio-box"}),a("div",{staticClass:"contral"},[a("i",{ref:"collImg",staticClass:"musicImg"},[a("img",{attrs:{src:t.songMessage.al.picUrl}})]),a("p",{on:{click:t.fullPlay}},[t._v(" "+t._s(t.songMessage.ar[0].name)+" - "+t._s(t.songMessage.name)+" ")]),a("audio",{ref:"audio",attrs:{controls:"",autoplay:"",src:"https://music.163.com/song/media/outer/url?id="+t.musicID+".mp3"},on:{timeupdate:t.timeupdate}}),a("i",{ref:"conplay",staticClass:"play",on:{click:t.togglePlay}},[a("canvas",{ref:"mycanvas",attrs:{width:"40",height:"40"}},[t._v("您的浏览器暂不支持canvas标签")])])])]),a("transition",{attrs:{"enter-active-class":"animate__animated animate__bounceInLeft","leave-active-class":"animate__animated animate__bounceOutRight"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isfullplay,expression:"isfullplay"}],staticClass:"myaudio"},[a("div",{staticClass:"layout"}),a("div",{staticClass:"playview-box"},[a("span",{staticClass:"quit",on:{click:t.quit}},[t._v("<")]),a("div",{staticClass:"play-point"}),a("div",{staticClass:"center",on:{click:t.togglePlay}},[a("div",{staticClass:"cd"}),a("div",{ref:"rolPlay",staticClass:"c-play"}),a("div",{ref:"roplay",staticClass:"playing"},[a("div",{staticClass:"showImg"},[a("img",{attrs:{src:t.songMessage.al.picUrl}})])])]),a("div",{staticClass:"layic"},[a("p",[t._v(t._s(t.songMessage.name)+" - "+t._s(t.songMessage.ar[0].name))]),a("div",{staticClass:"lay-box"},[a("ul",{ref:"lyul"},t._l(t.mylyaic,(function(e,s){return a("li",{key:s,class:s==t.currentIndex?"active":""},[t._v(t._s(e.layic))])})),0)])]),a("div",{staticClass:"bg"},[a("div",{staticClass:"bg-box"},[a("img",{attrs:{src:t.songMessage.al.picUrl}})])]),a("div",{staticClass:"layTime"},[a("span",{staticClass:"cuTime"},[t._v(t._s(t._f("formatlayicTime")(t.thisTime)))]),a("span",{staticClass:"toTime"},[t._v(t._s(t._f("formatlayicTime")(t.totalTime)))])]),a("div",{staticClass:"user-contral"},[a("div",{ref:"proBox",staticClass:"process",on:{click:function(e){return e.stopPropagation(),t.changeCurrentTime(e)}}},[a("div",{ref:"pro",staticClass:"c-process",style:"width:"+t.present+"%"},[a("i")])])]),a("div",{staticClass:"songscontral"},[a("span",{staticClass:"prev",on:{click:t.prevSong}}),a("span",{ref:"playpause",staticClass:"play_pause",on:{click:t.playOrpause}}),a("span",{staticClass:"next",on:{click:t.nextSong}})]),a("div",{staticClass:"more"})])])])],1)},v=[],b=(a("c975"),a("d81d"),a("4d63"),a("ac1f"),a("25f0"),a("1276"),{props:["musicID"],data:function(){return{songMessage:{al:{picUrl:""},name:null,ar:[{name:""}]},isplay:!0,isfullplay:!1,mylyaic:[],currentIndex:0,thisTime:0,totalTime:0,present:0,currentSongIndex:0,playFlag:!0}},beforeRouteEnter:function(t,e,a){a()},methods:{togglePlay:function(){this.isplay?(this.$refs.audio.play(),this.$refs.conplay.className="play",this.$refs.collImg.style.animationPlayState="running",this.$refs.roplay.style.animationPlayState="running",this.$refs.rolPlay.className="y-play",this.$refs.playpause.className="play_play"):(this.$refs.audio.pause(),this.$refs.conplay.className="pause",this.$refs.collImg.style.animationPlayState="paused",this.$refs.roplay.style.animationPlayState="paused",this.$refs.rolPlay.className="c-play",this.$refs.playpause.className="play_pause"),this.isplay=!this.isplay},playOrpause:function(){this.togglePlay()},timeupdate:function(){var t=this;this.totalTime=this.$refs.audio.duration;var e=this.$refs.audio.currentTime;for(var a in this.thisTime=e,this.present=e/this.totalTime*100,this.mylyaic){var s=this.mylyaic[a].time,n=parseInt(a)+1;if(n==this.mylyaic.length-1){this.currentIndex=this.mylyaic.length-1;break}if(e>=s&&e<this.mylyaic[n].time){this.currentIndex=a;break}}this.$refs.lyul.style.top="-".concat(25*this.currentIndex,"px"),this.$refs.audio.addEventListener("ended",(function(){t.$refs.conplay.className="pause",t.$refs.collImg.style.animationPlayState="paused",t.$refs.roplay.style.animationPlayState="paused",t.$refs.rolPlay.className="c-play",t.$refs.playpause.className="play_pause"}))},fullPlay:function(){this.isfullplay=!0,this.isplay=!0,this.togglePlay()},quit:function(){this.isfullplay=!this.isfullplay},changeCurrentTime:function(t){if("DIV"==t.target.nodeName){var e=this.$refs.proBox.offsetWidth,a=this.$refs.proBox.offsetLeft,s=t.pageX-a;this.$refs.pro.style="width:".concat(s,"px");var n=s*this.totalTime/e;this.$refs.audio.currentTime=n}},prevSong:function(){var t=this;if(this.playFlag){this.playFlag=!1;for(var e=null,a=0;a<this.$root.playingMusic.playingMusicList.length;a++){var s=this.$root.playingMusic.playingMusicList.indexOf(this.musicID);if(s>0){this.currentSongIndex=s;break}}this.currentSongIndex--,this.currentSongIndex=this.currentSongIndex<=0?0:this.currentSongIndex;var n=this.$root.playingMusic.playingMusicList[this.currentSongIndex];this.$root.playingMusic.musicID=n,clearTimeout(e),e=setTimeout((function(){t.playFlag=!0}),200)}},nextSong:function(){var t=this;if(this.playFlag){this.playFlag=!1;for(var e=null,a=0;a<this.$root.playingMusic.playingMusicList.length;a++){var s=this.$root.playingMusic.playingMusicList.indexOf(this.musicID);if(s>0){this.currentSongIndex=s;break}}this.currentSongIndex++,this.currentSongIndex=this.currentSongIndex>=this.$root.playingMusic.playingMusicList.length-1?this.$root.playingMusic.playingMusicList.length-1:this.currentSongIndex;var n=this.$root.playingMusic.playingMusicList[this.currentSongIndex];this.$root.playingMusic.musicID=n,clearTimeout(e),e=setTimeout((function(){t.playFlag=!0}),200)}}},watch:{musicID:function(t){var e=this;this.isplay=!0,this.togglePlay(),this.$axios.get("/song/detail?ids="+t).then((function(t){200==t.data.code&&(e.songMessage=t.data.songs[0])})),this.$axios.defaults.baseURL="http://music.kele8.cn",this.$axios.get("/lyric?id="+t).then((function(t){var a=t.data.lrc.lyric,s=a.split("\n"),n=/\[(\d+):(\d+\.\d+)\](.*)/;e.mylyaic=s.map((function(t){return n.test(t),{time:parseInt(60*RegExp.$1)+parseFloat(RegExp.$2),layic:RegExp.$3}}))})),this.$axios.defaults.baseURL="http://musicapi.leanapp.cn/"}},filters:{formatlayicTime:function(t){var e=Math.floor(t/60%60),a=Math.floor(t%60);return e=e<10?"0"+e:e,a=a<10?"0"+a:a,e+":"+a}}}),x=b,$=(a("26f2"),Object(d["a"])(x,g,v,!1,null,"357a2c57",null)),_=$.exports,k={components:{Topnav:m,PlayContral:_}},C=k,w=(a("034f"),Object(d["a"])(C,l,c,!1,null,null,null)),P=w.exports,I=a("8c4f");s["a"].use(I["a"]);var M=[{path:"/",name:"Recommend",component:function(){return a.e("chunk-0a79bb91").then(a.bind(null,"4802"))},meta:{showNav:!0}},{path:"/playlist/:plistid",name:"Playlist",component:function(){return Promise.all([a.e("chunk-00d5ab89"),a.e("chunk-3a2fe130")]).then(a.bind(null,"2059"))},props:!0,meta:{showNav:!1}},{path:"/hot",name:"Hot",component:function(){return Promise.all([a.e("chunk-00d5ab89"),a.e("chunk-3ae65984")]).then(a.bind(null,"e37d"))},meta:{showNav:!0}},{path:"/search",name:"Search",component:function(){return a.e("chunk-4af9d06e").then(a.bind(null,"2d3b"))},meta:{showNav:!0}}],S=new I["a"]({routes:M}),T=S;a("3524");s["a"].config.productionTip=!1;var N={musicID:0,isContral:!1,playingMusicList:[]};new s["a"]({router:T,data:{playingMusic:N},render:function(t){return t(P)}}).$mount("#app")},"66e5":function(t,e,a){},"85ec":function(t,e,a){},"9ad6":function(t,e,a){"use strict";a("188b")}});
//# sourceMappingURL=app.5f0628e9.js.map