(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ae65984"],{"077b":function(t,a,i){},6097:function(t,a,i){"use strict";i("077b")},e37d:function(t,a,i){"use strict";i.r(a);var n=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"hotMusic-box"},[i("div",{staticClass:"topad"},[i("div",{staticClass:"hot-top"},[i("div",{staticClass:"ad"}),i("p",[t._v("更新日期："+t._s(t._f("formatTime")(t.updataTime)))])])]),i("ul",{staticClass:"hotList"},t._l(t.newhotMusic,(function(a,n){return i("Liitems",{key:a.id+"",attrs:{newsongs:a}},[i("div",{staticClass:"left-num"},[t._v(t._s(t._f("foramtIndex")(n+1)))])])})),1),i("Loading",{directives:[{name:"show",rawName:"v-show",value:t.loadFlag,expression:"loadFlag"}]}),i("div",{staticClass:"hot-bottom"},[i("p",{on:{click:t.moreList}},[t._v("查看更多")])])],1)},s=[],e=(i("fb6a"),i("b0c0"),i("b85c")),o=i("a374"),u=i("3a5e"),c={components:{Liitems:o["a"],Loading:u["a"]},data:function(){return{updataTime:Date.now(),newhotMusic:[],loadFlag:!1,num:0}},beforeRouteEnter:function(t,a,i){i((function(t){"undefined"==typeof t.$route.params.num&&(t.hotMusicList=[],t.num=0),t.moreMusic(t)}))},beforeRouteUpdate:function(t,a,i){this.moreMusic(this),i()},methods:{moreMusic:function(t){var a=this,i=[];t.loadFlag=!0,t.num++,t.$axios.get("/top/list?idx=1").then((function(a){t.updataTime=a.data.playlist.updateTime,i=a.data.playlist.trackIds.slice(20*(t.num-1),20*t.num)})).then((function(){a.$root.playingMusic.playingMusicList=[];var n,s=Object(e["a"])(i);try{for(s.s();!(n=s.n()).done;){var o=n.value;t.$axios.get("/song/detail?ids="+o.id).then((function(i){t.newhotMusic.push({name:i.data.songs[0].name,id:i.data.songs[0].id,song:{privilege:{maxbr:i.data.privileges[0].maxbr},artists:[{name:i.data.songs[0].ar[0].name}]}}),a.$root.playingMusic.playingMusicList.push(i.data.songs[0].id)}))}}catch(u){s.e(u)}finally{s.f()}t.loadFlag=!1}))},moreList:function(t){this.moreMusic(this),this.newhotMusic.length>=180&&(t.target.innerText="没有更多了")}},filters:{formatTime:function(t){var a=new Date(t),i=a.getMonth()+1,n=a.getDate();return i=i<10?"0"+i:i,n=n<10?"0"+n:n,i+"月"+n+"日"},foramtIndex:function(t){return t<10?"0"+t:t}}},r=c,l=(i("6097"),i("2877")),d=Object(l["a"])(r,n,s,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-3ae65984.2035ebae.js.map