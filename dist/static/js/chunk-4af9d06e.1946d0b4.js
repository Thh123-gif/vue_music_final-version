(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4af9d06e"],{"0803":function(e,t,s){"use strict";s("80ec")},"13d5":function(e,t,s){"use strict";var a=s("23e7"),i=s("d58f").left,r=s("a640"),n=s("ae40"),o=s("2d00"),c=s("605d"),l=r("reduce"),u=n("reduce",{1:0}),h=!c&&o>79&&o<83;a({target:"Array",proto:!0,forced:!l||!u||h},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"2d3b":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search-box"},[s("div",{staticClass:"ipt-box"},[s("i"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.iptValue,expression:"iptValue"}],attrs:{type:"text",placeholder:"搜索歌曲、歌手、专辑",autocomplete:"off"},domProps:{value:e.iptValue},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchResult(e.iptValue,!0)},input:function(t){t.target.composing||(e.iptValue=t.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.searchValue.length>0,expression:"searchValue.length > 0"}],staticClass:"close",on:{click:e.clear}},[s("i")])]),s("div",{staticClass:"show-result-box"},[s("ul",{directives:[{name:"show",rawName:"v-show",value:e.searchValue.length<=0,expression:"searchValue.length <= 0"}],staticClass:"show-result"},[s("p",[e._v("热门搜索")]),e._l(e.searchList,(function(t,a){return s("li",{key:a,on:{click:function(s){return e.selectLi(t.first)}}},[s("a",{attrs:{href:"javascript:;"}},[e._v(e._s(t.first))])])}))],2),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.historyFlag&&e.historyList.length>0,expression:"historyFlag && historyList.length > 0"}],staticClass:"history"},[s("h5",[e._v("历史搜索")]),e._l(e.historyList,(function(t,a){return s("li",{key:a},[s("div",{staticClass:"list-left"},[s("div",{staticClass:"song-title"},[s("i",[s("svg",{staticClass:"icon",attrs:{t:"1610640420361",viewBox:"0 0 1060 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1677",width:"200",height:"200"}},[s("path",{attrs:{d:"M515.762599 958.870845c246.966761 0 447.17029-200.203529 447.17029-447.170289 0-246.966761-200.203529-447.17029-447.17029-447.17029-246.966761 0-447.17029 200.203529-447.170289 447.17029 0 246.966761 200.203529 447.17029 447.170289 447.170289z m0 63.88147c-282.251292 0-511.051759-228.800468-511.051759-511.051759 0-282.251292 228.800468-511.051759 511.051759-511.05176 282.238815 0 511.051759 228.800468 511.05176 511.05176 0 282.251292-228.800468 511.051759-511.05176 511.051759z m0 0","p-id":"1678"}}),s("path",{attrs:{d:"M547.703334 192.293206c0-17.642265-14.29847-31.940735-31.940735-31.940735s-31.940735 14.29847-31.940735 31.940735v343.362901c0 9.195438 3.955161 17.954187 10.85486 24.017935l191.644409 167.688859c13.262891 11.640901 33.462911 10.318355 45.103812-2.93206 11.640901-13.262891 10.318355-33.462911-2.93206-45.103811L547.703334 521.158008V192.293206z m0 0","p-id":"1679"}})])]),e._v(" "+e._s(t))])])])}))],2),s("Loading",{directives:[{name:"show",rawName:"v-show",value:e.loadingFlag,expression:"loadingFlag"}]}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.searchValue.length>0,expression:"searchValue.length > 0"}],staticClass:"search-result"},[s("h1",[e._v("搜索“"+e._s(e.iptValue)+"”")]),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.searchFlag,expression:"searchFlag"}],staticClass:"setion"},e._l(e.searchValue,(function(t,a){return s("li",{key:a,on:{click:function(s){return e.searchResult(t.name,!0)}}},[s("i"),s("span",[e._v(e._s(e._f("formatName")(t))+e._s(t.name))])])})),0),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.msearchFlag,expression:"msearchFlag"}],staticClass:"result-search"},e._l(e.mysearch,(function(e){return s("Liitems",{key:e.id,attrs:{newsongs:e}})})),1)])],1)])},i=[],r=(s("99af"),s("13d5"),s("b0c0"),s("a374")),n=s("3a5e"),o={data:function(){return{searchList:[],iptValue:"",loadingFlag:!1,searchValue:[],searchres:{},mysearch:{},searchFlag:!0,msearchFlag:!1,historyFlag:!0,historyList:[]}},components:{Liitems:r["a"],Loading:n["a"]},beforeRouteEnter:function(e,t,s){s((function(e){e.setSearch(e);for(var t=0;t<=10;t++){var s=window.sessionStorage.getItem("songsname"+t);null!=s&&e.historyList.push(s)}}))},filters:{formatName:function(e){return"undefined"!=typeof e.artists?"歌曲：":"undefined"!=typeof e.artist?"专辑：":"歌手："}},methods:{setSearch:function(e){e.$axios.get("/search/hot").then((function(t){e.searchList=t.data.result.hots}))},clear:function(){this.iptValue="",this.searchValue=[],this.historyFlag=!0,this.setSearch(this)},searchResult:function(e,t){var s=this;this.iptValue=e,this.$axios.get("/search?keywords="+e).then((function(a){s.searchres=a.data.result.songs,s.mysearch=[],s.$root.playingMusic.playingMusicList=[];for(var i=0;i<s.searchres.length;i++)s.mysearch.push({id:s.searchres[i].id,name:s.searchres[i].name,song:{privilege:{maxbr:9e5},artists:[{name:s.searchres[i].artists[0].name}]}}),s.$root.playingMusic.playingMusicList.push(s.searchres[i].id);0==t?(s.searchFlag=!0,s.msearchFlag=!1):(s.searchFlag=!1,s.msearchFlag=!0),""==e&&(s.mysearch=[])}))},selectLi:function(e){this.searchResult(e),this.historyList.push(e);for(var t=0;t<this.historyList.length;t++)window.sessionStorage.setItem("songsname"+t,this.historyList[t]);this.historyFlag=!1}},watch:{iptValue:function(e){var t=this;""!=e?(this.loadingFlag=!0,this.$axios.get("/search/suggest?keywords="+e).then((function(e){if(200==e.data.code&&e.data.result.order){var s=e.data.result,a=s.order.reduce((function(e,t){var a=s[t];return e.concat(a)}),[]);t.searchValue=a,t.loadingFlag=!1}})),this.searchResult(e,!1)):this.searchValue=[]}}},c=o,l=(s("9ed0"),s("2877")),u=Object(l["a"])(c,a,i,!1,null,null,null);t["default"]=u.exports},"3a5e":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"loading-component"},[s("div",{staticClass:"load-box"},[s("i"),s("i"),s("i")])])}],r=(s("0803"),s("2877")),n={},o=Object(r["a"])(n,a,i,!1,null,"57272f74",null);t["a"]=o.exports},"64f6":function(e,t,s){"use strict";s("70a4")},"70a4":function(e,t,s){},"80ec":function(e,t,s){},8418:function(e,t,s){"use strict";var a=s("c04e"),i=s("9bf2"),r=s("5c6c");e.exports=function(e,t,s){var n=a(t);n in e?i.f(e,n,r(0,s)):e[n]=s}},"99af":function(e,t,s){"use strict";var a=s("23e7"),i=s("d039"),r=s("e8b5"),n=s("861d"),o=s("7b0b"),c=s("50c4"),l=s("8418"),u=s("65f0"),h=s("1dde"),f=s("b622"),d=s("2d00"),g=f("isConcatSpreadable"),v=9007199254740991,p="Maximum allowed index exceeded",m=d>=51||!i((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),w=h("concat"),y=function(e){if(!n(e))return!1;var t=e[g];return void 0!==t?!!t:r(e)},_=!m||!w;a({target:"Array",proto:!0,forced:_},{concat:function(e){var t,s,a,i,r,n=o(this),h=u(n,0),f=0;for(t=-1,a=arguments.length;t<a;t++)if(r=-1===t?n:arguments[t],y(r)){if(i=c(r.length),f+i>v)throw TypeError(p);for(s=0;s<i;s++,f++)s in r&&l(h,f,r[s])}else{if(f>=v)throw TypeError(p);l(h,f++,r)}return h.length=f,h}})},"9ed0":function(e,t,s){"use strict";s("ea6b")},a374:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{key:e.newsongs.id},[e._t("default"),s("div",{staticClass:"list-left"},[s("div",{staticClass:"song-title"},[e._v(e._s(e.newsongs.name))]),s("p",[e.newsongs.song.privilege.maxbr>32e4?s("i"):e._e(),s("span",[e._v(e._s(e.newsongs.song.artists[0].name)+" - "+e._s(e.newsongs.name))])])]),s("div",{staticClass:"list-right"},[s("span",{on:{click:e.playMusic}})])],2)},i=[],r={props:["newsongs"],methods:{playMusic:function(){this.$root.playingMusic.musicID=this.newsongs.id,this.$root.playingMusic.isContral=!0}}},n=r,o=(s("64f6"),s("2877")),c=Object(o["a"])(n,a,i,!1,null,"a66b9986",null);t["a"]=c.exports},b0c0:function(e,t,s){var a=s("83ab"),i=s("9bf2").f,r=Function.prototype,n=r.toString,o=/^\s*function ([^ (]*)/,c="name";a&&!(c in r)&&i(r,c,{configurable:!0,get:function(){try{return n.call(this).match(o)[1]}catch(e){return""}}})},d58f:function(e,t,s){var a=s("1c0b"),i=s("7b0b"),r=s("44ad"),n=s("50c4"),o=function(e){return function(t,s,o,c){a(s);var l=i(t),u=r(l),h=n(l.length),f=e?h-1:0,d=e?-1:1;if(o<2)while(1){if(f in u){c=u[f],f+=d;break}if(f+=d,e?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:h>f;f+=d)f in u&&(c=s(c,u[f],f,l));return c}};e.exports={left:o(!1),right:o(!0)}},ea6b:function(e,t,s){}}]);
//# sourceMappingURL=chunk-4af9d06e.1946d0b4.js.map